# Defaults need to go at the end of the file
# See https://superuser.com/questions/718346/openssh-ssh-config-host-specific-overrides-not-working

Host github.com
  Hostname github.com
  # This is just the SSH username, your actual username is derived from the IdentityFile that's used for authentication
  User git
  IdentityFile ~/.ssh/personal_ed25519

Host gitlab.com
  Hostname gitlab.com
  User iandunn
  IdentityFile ~/.ssh/personal_ed25519

Host *
	ServerAliveInterval 60
	UseRoaming no
		# See http://undeadly.org/cgi?action=article&sid=20160114142733

	# You may need to comment these out temporarily in order to connect to a server for the first time with a password.
	# Then you can add your public key and use that in the future.
	PreferredAuthentications publickey
	IdentitiesOnly yes

	# You can't set a default IdentityFile here because you have multiple GitHub accounts.
	# GitHub only looks at the first key that's sent and uses that, rather than trying all of them.

	# Disable the old key as a reminder to update it any places that are still using it.
	#IdentityFile ~/.ssh/id_rsa
